"use strict";(self.webpackChunkextract_css=self.webpackChunkextract_css||[]).push([[86567],{922772:(P,m,h)=>{Object.defineProperty(m,"__esModule",{value:!0}),Object.defineProperty(m,"default",{enumerable:!0,get:function(){return L}});var y=h(768744),_=h(204240),b=h(9817);function v(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function c(t){if(Array.isArray(t))return t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a=[],l=!0,O=!1,s,j;try{for(r=r.call(t);!(l=(s=r.next()).done)&&(a.push(s.value),!(e&&a.length===e));l=!0);}catch(S){O=!0,j=S}finally{try{!l&&r.return!=null&&r.return()}finally{if(O)throw j}}return a}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),a.forEach(function(l){n(t,l,r[l])})}return t}function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,a)}return r}function u(t,e){return e=e!=null?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}function d(t,e){return c(t)||f(t,e)||g(t,e)||p()}function g(t,e){if(t){if(typeof t=="string")return v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(t,e)}}var w=t=>!!(t.complete&&t.src);class L{prepareImage(){this.image.addEventListener("load",this.onImageLoaded),this.image.style.visibility="hidden",w(this.image)&&this.onImageLoaded()}getFocalPoint(){if(this.effectProps.focalPoint)return this.effectProps.focalPoint;var e=d(window.getComputedStyle(this.image).objectPosition.split(" "),2),r=e[0],a=e[1];return{x:parseFloat(r)/100,y:parseFloat(a)/100}}destroyComponent(){var e;(e=this.component)===null||e===void 0||e.destroy(),this.component=null,this.image&&(this.image.style.visibility="",this.image.removeEventListener("load",this.onImageLoaded))}removeListeners(){this.prefersReducedMotionHandler.destroy()}constructor(e){var r=e.image,a=e.container,l=e.effectProps,O=e.WebGLComponent;n(this,"currentImageSrc",""),n(this,"onPrefersReducedMotionChange",s=>{if(s){this.destroyComponent();return}this.prepareImage()}),n(this,"onContainerResize",()=>{var s;(s=this.component)===null||s===void 0||s.refresh()}),n(this,"onImageLoaded",()=>{var s;if(this.currentImageSrc=this.image.src,this.component){this.component.setProps({image:this.image,imageNeedsUpdate:!0});return}this.component=new y.ComponentManager(this.WebGLComponent,this.container,u(o({image:this.image,pixelRatio:((s=window)===null||s===void 0?void 0:s.devicePixelRatio)||1},this.effectProps),{focalPoint:this.getFocalPoint()}),{scrollWindowRef:(0,_.getFrameWindow)()||window,normalizeScroll:!1})}),n(this,"updateImage",s=>{this.component&&(this.image===s&&this.currentImageSrc===s.src||(this.image.removeEventListener("load",this.onImageLoaded),this.image=s,this.image.addEventListener("load",this.onImageLoaded),w(this.image)&&this.component.setProps({image:this.image,imageNeedsUpdate:!0})))}),n(this,"updateProps",s=>{this.component&&this.component.setProps(s)}),n(this,"getType",()=>this.component.props.type),n(this,"destroy",()=>{this.destroyComponent(),this.removeListeners()}),this.image=r,this.container=a,this.effectProps=l,this.WebGLComponent=O,y.isWebGLSupported&&(this.prefersReducedMotionHandler=(0,b.prefersReducedMotion)(this.onPrefersReducedMotionChange),!this.prefersReducedMotionHandler.matches&&this.prepareImage())}}},806349:(P,m,h)=>{Object.defineProperty(m,"__esModule",{value:!0}),Object.defineProperty(m,"default",{enumerable:!0,get:function(){return p}});var y=h(768744),_=v(h(922772));function b(o,i,u){return i in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,o}function v(o){return o&&o.__esModule?o:{default:o}}function c(o){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{},d=Object.keys(u);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(u).filter(function(g){return Object.getOwnPropertyDescriptor(u,g).enumerable}))),d.forEach(function(g){b(o,g,u[g])})}return o}function n(o,i){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);i&&(d=d.filter(function(g){return Object.getOwnPropertyDescriptor(o,g).enumerable})),u.push.apply(u,d)}return u}function f(o,i){return i=i!=null?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(u){Object.defineProperty(o,u,Object.getOwnPropertyDescriptor(i,u))}),o}class p extends _.default{constructor(i){super(f(c({},i),{WebGLComponent:y.ParallaxEffect}))}}},9817:(P,m)=>{Object.defineProperty(m,"__esModule",{value:!0});function h(c,n){for(var f in n)Object.defineProperty(c,f,{enumerable:!0,get:n[f]})}h(m,{mediaQuery:function(){return b},prefersReducedMotion:function(){return v}});var y=(c,n)=>(c.addEventListener?c.addEventListener("change",n):c.addListener(n),n),_=(c,n)=>(c.removeEventListener?c.removeEventListener("change",n):c.removeListener(n),n),b=(c,n)=>{var f=window.matchMedia(c),p={},o=y(f,i=>{p.matches=i.matches,n==null||n(p.matches)});return p.matches=f.matches,p.destroy=()=>{_(f,o)},p},v=c=>b("(prefers-reduced-motion: reduce)",c)}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/e596fea26d504ccc8b10640f53dadffc/image-effect-parallax-341460573b8e9af67ba2-min.en-US.js.map